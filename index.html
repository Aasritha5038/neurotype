<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NeuroType – Cognitive Typing Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Roboto,sans-serif;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:#fff;
}
.container{
  max-width:950px;
  width:95%;
  background:rgba(255,255,255,0.1);
  padding:30px;
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.4);
  margin-bottom:20px;
}
h1{text-align:center;margin-bottom:5px;}
.sub{text-align:center;opacity:.85;margin-bottom:20px;}
.card{
  background:rgba(255,255,255,.15);
  padding:20px;
  border-radius:12px;
  margin-bottom:15px;
}
textarea,input{
  width:100%;
  padding:14px;
  border-radius:8px;
  border:none;
  font-size:16px;
}
textarea{height:170px;resize:none;}
button{
  margin-top:15px;
  padding:12px 25px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  background:#ff9800;
  color:#fff;
  font-weight:bold;
}
button:hover{background:#ffb300;}
#paragraph{line-height:1.7;font-size:15px;}
#result{text-align:center;font-size:18px;}
footer{text-align:center;opacity:.7;margin-top:10px;}
</style>
</head>

<body>

<div class="container">
<h1>NeuroType</h1>
<div class="sub">Advanced Brain & Typing Focus Assessment</div>

<input id="name" placeholder="Enter your full name">

<div class="card">
<b>Typing Paragraph:</b>
<p id="paragraph"></p>
</div>

<div class="card">
⏱ Time Left: <b><span id="time">120</span> sec</b>
<textarea id="typing" placeholder="Type the paragraph above exactly..."></textarea>
<button onclick="finish()">Finish Test</button>
</div>

<div class="card" id="result">Results will appear here.</div>

<div class="card" id="cert" style="display:none;text-align:center;">
<button onclick="downloadPDF()">Download Certificate</button>
</div>

<footer>© 2026 NeuroType Cognitive Systems</footer>

<script>
/* ---------- PARAGRAPHS ---------- */
const paragraphs = [
"Typing is not merely a mechanical activity but a powerful cognitive exercise that strengthens focus and coordination. The brain processes language, memory, and motor skills simultaneously during typing. Continuous typing enhances attention span and mental endurance over time. Such activities improve problem-solving ability and clarity of thought. Regular practice leads to faster cognitive responses in daily tasks.",

"Focused typing requires sustained attention and precise execution under time pressure. The brain actively coordinates thoughts with finger movements to maintain accuracy. This engagement strengthens neural connections related to memory and concentration. Over time, typing exercises enhance mental resilience and discipline. Such practice supports better performance in academic and professional tasks.",

"Typing long passages challenges the brain to maintain consistency and accuracy simultaneously. The mind retrieves language patterns while monitoring errors in real time. This process improves cognitive flexibility and mental stamina. Repeated practice enhances speed without compromising precision. Typing thus becomes a valuable tool for mental development.",

"Extended typing tasks activate multiple regions of the brain responsible for reasoning and coordination. The brain predicts upcoming words while managing stress levels. Such exercises build endurance and focus under pressure. Over time, individuals notice improved clarity and reduced cognitive fatigue. This reflects stronger neural efficiency.",

"Typing assessments measure attention, memory, and processing speed effectively. Each keystroke reflects rapid decision-making by the brain. Continuous practice improves accuracy and confidence. Such tasks help regulate focus and emotional control. Typing becomes a structured method to enhance cognitive performance."
];

const para = paragraphs[Math.floor(Math.random()*paragraphs.length)];
document.getElementById("paragraph").innerText = para;

/* ---------- TIMER ---------- */
let time = 120;
let started = false;
let timer;

const typing = document.getElementById("typing");
typing.addEventListener("focus",()=>{
  if(!started){
    started = true;
    timer = setInterval(()=>{
      time--;
      document.getElementById("time").innerText = time;
      if(time <= 0) finish();
    },1000);
  }
});

/* ---------- RESULT VARIABLES ---------- */
let finalWPM = 0;
let finalAccuracy = 0;
let finalBrain = 0;
let finalGrade = "";

/* ---------- FINISH ---------- */
function finish(){
  clearInterval(timer);
  typing.disabled = true;

  const typed = typing.value.trim();
  const name = document.getElementById("name").value || "Candidate";

  const paraWords = para.split(" ").length;
  const typedWords = typed.split(" ").length;

  finalAccuracy = Math.min(100, Math.round((typedWords / paraWords) * 100));
  finalWPM = Math.round((typedWords / (120 - time)) * 60);
  finalBrain = Math.round((finalAccuracy + finalWPM) / 2);

  finalGrade = "Average";
  if(finalBrain > 85) finalGrade = "Excellent";
  else if(finalBrain > 70) finalGrade = "Very Good";
  else if(finalBrain > 55) finalGrade = "Good";

  document.getElementById("result").innerHTML = `
    Name: <b>${name}</b><br>
    Speed: <b>${finalWPM} WPM</b><br>
    Accuracy: <b>${finalAccuracy}%</b><br>
    Brain Score: <b>${finalBrain}</b><br>
    Grade: <b>${finalGrade}</b>
  `;

  document.getElementById("cert").style.display = "block";
}

/* ---------- PDF CERTIFICATE (WITH RESULTS) ---------- */
function downloadPDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF("landscape","px",[800,600]);

  const name = document.getElementById("name").value || "Candidate";

  doc.setFontSize(30);
  doc.text("CERTIFICATE OF COGNITIVE TYPING",400,100,{align:"center"});

  doc.setFontSize(24);
  doc.text(name,400,160,{align:"center"});

  doc.setFontSize(18);
  doc.text("Performance Summary",400,220,{align:"center"});

  doc.setFontSize(16);
  doc.text(`Typing Speed : ${finalWPM} WPM`,400,260,{align:"center"});
  doc.text(`Accuracy      : ${finalAccuracy}%`,400,300,{align:"center"});
  doc.text(`Brain Score   : ${finalBrain}`,400,340,{align:"center"});
  doc.text(`Grade         : ${finalGrade}`,400,380,{align:"center"});

  doc.setFontSize(14);
  doc.text("Issued on: " + new Date().toDateString(),400,440,{align:"center"});

  doc.save("NeuroType_Certificate.pdf");
}
</script>

</body>
</html>
