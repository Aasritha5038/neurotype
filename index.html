<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NeuroType ‚Äì Cognitive Typing Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Roboto,sans-serif;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:#fff;
}
.container{
  max-width:950px;
  width:95%;
  background:rgba(255,255,255,0.1);
  padding:30px;
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.4);
  margin-bottom:20px;
}
h1{text-align:center;margin-bottom:5px;}
.sub{text-align:center;opacity:.85;margin-bottom:20px;}
.card{
  background:rgba(255,255,255,.15);
  padding:20px;
  border-radius:12px;
  margin-bottom:15px;
}
textarea,input{
  width:100%;
  padding:14px;
  border-radius:8px;
  border:none;
  font-size:16px;
}
textarea{height:170px;resize:none;}
button{
  margin-top:15px;
  padding:12px 25px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  background:#ff9800;
  color:#fff;
  font-weight:bold;
}
button:hover{background:#ffb300;}
#paragraph{line-height:1.7;font-size:15px;}
#result{text-align:center;font-size:18px;}
footer{text-align:center;opacity:.7;margin-top:10px;}
</style>
</head>

<body>

<div class="container">
<h1>NeuroType</h1>
<div class="sub">Advanced Brain & Typing Focus Assessment</div>

<input id="name" placeholder="Enter your full name (for certificate)">

<div class="card">
<b>Typing Paragraph:</b>
<p id="paragraph"></p>
</div>

<div class="card">
‚è± Time Left: <b><span id="time">120</span> sec</b>
<textarea id="typing" placeholder="Type the paragraph above exactly..."></textarea>
<button onclick="finish()">Finish Test</button>
</div>

<div class="card" id="result">Results will appear here.</div>

<div class="card" id="cert" style="display:none;text-align:center;">
<button onclick="downloadPDF()">Download Professional Certificate</button>
</div>

<div class="container">
<h2>Certificate Verification üîç</h2>
<input id="verifyID" placeholder="Enter Certificate ID">
<button onclick="verifyCertificate()">Verify</button>
<div id="verifyResult" style="margin-top:15px;font-size:16px;"></div>
</div>

<footer>¬© 2026 NeuroType Cognitive Systems</footer>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js"></script>

<script>
  // üîπ Firebase Configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCrnR3QCl9LGqF2Kg5Gwonq549bBhd5jEU",
    authDomain: "neurotype-548f1.firebaseapp.com",
    projectId: "neurotype-548f1",
    storageBucket: "neurotype-548f1.appspot.com",
    messagingSenderId: "1082425793782",
    appId: "1:1082425793782:web:3fb0aff5ed6570920520d7",
    measurementId: "G-0Q95G6CKVF"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
</script>

<script>
// -------- PARAGRAPHS (Elaborated ~5 lines each) --------
const paragraphs=[
`Typing is not merely a mechanical activity but a complex interaction between cognitive processing, motor coordination, and focused attention. When an individual types continuously under a timed environment, the brain must coordinate thoughts, language formulation, and precise hand movements simultaneously. This strengthens neural pathways responsible for concentration, memory retention, and decision-making. Extended typing challenges improve mental stamina and sharpen problem-solving skills. Continuous practice can lead to better multitasking and faster cognitive responses in real-life tasks.`,

`The human brain adapts rapidly when exposed to structured challenges that require sustained attention and mental endurance. Typing long passages engages working memory, comprehension, and fine motor skills simultaneously, creating a synergy between mind and body. The cognitive effort reinforces neural circuits responsible for language processing, planning, and coordination. Over time, individuals notice improved concentration and focus in daily activities. This mental engagement makes typing exercises a valuable tool for cognitive growth and mental resilience.`,

`Focused typing activates multiple regions of the brain simultaneously, including areas responsible for language, memory, and motor control. As thoughts translate into written words, the brain organizes ideas into structured output, maintaining clarity and coherence. Continuous practice enhances neuroplasticity, allowing the brain to adapt more efficiently to complex cognitive tasks. Typing under time constraints further challenges emotional regulation and stress management. The cumulative effect of such exercises improves overall cognitive speed and mental agility.`,

`Typing under time pressure reveals an individual‚Äôs ability to manage stress while maintaining accuracy and clarity. The brain must process language, retrieve relevant vocabulary, and coordinate rapid finger movements simultaneously. Such exercises test mental endurance, attentional control, and cognitive flexibility. Individuals who practice consistently demonstrate improved focus, higher processing speed, and better working memory. By challenging the mind in structured ways, typing becomes a tool for sharpening mental performance across multiple domains.`,

`Mental focus is foundational to effective performance in any cognitively demanding task. Typing extended text requires continuous attention, memory retention, and precise execution. Each keystroke reflects the brain‚Äôs rapid decision-making process and the seamless interaction between motor and cognitive functions. Practicing such exercises strengthens neural connections, improves concentration, and enhances learning abilities. Over time, individuals notice greater confidence, reduced errors, and faster mental processing in both typing and analytical tasks.`,

`The coordination between mind and body becomes evident during long typing exercises, where each keystroke represents a split-second decision processed by the brain. This process engages working memory, attention, and linguistic reasoning simultaneously. Regular practice promotes neuroplasticity and enhances the ability to handle prolonged cognitive tasks without fatigue. By challenging the mind, typing helps develop focus, endurance, and mental resilience. Such exercises can be valuable tools for professional growth and personal development.`,

`Typing performance reflects the brain‚Äôs efficiency in organizing, planning, and executing information. During continuous typing, the brain balances multiple cognitive processes, including memory, language formulation, and error correction. Extended practice fosters attention to detail, mental agility, and the ability to multitask efficiently. Individuals often experience improvements in cognitive clarity and reaction speed over time. Typing exercises also provide measurable feedback, helping users track progress and set higher mental goals.`,

`Extended typing requires continuous loops of comprehension, memory retrieval, and motor execution. The brain constantly predicts upcoming words, monitors accuracy, and adjusts finger movements in real-time. Such activities enhance working memory, language fluency, and cognitive flexibility. Typing exercises also help regulate stress levels and improve mental endurance under challenging conditions. Overall, this practice strengthens focus, sharpens decision-making, and builds reliable cognitive pathways for complex tasks.`,

`Typing long passages reveals the brain‚Äôs capacity to handle sustained cognitive load efficiently. Each word typed engages linguistic reasoning, short-term memory, and precise motor control. The interaction between attention, memory, and motor coordination develops faster information processing and better multitasking ability. Practicing consistently increases both speed and accuracy, reflecting improved mental efficiency. Typing also serves as a practical tool to enhance productivity and strengthen overall cognitive function in everyday activities.`,

`Typing assessments provide insight into cognitive focus, mental endurance, and processing speed. Individuals learn to balance accuracy with speed while maintaining clarity under time pressure. Regular practice engages multiple areas of the brain, enhancing neuroplasticity and mental flexibility. The ability to sustain attention during prolonged typing tasks reflects strong concentration and memory performance. Overall, typing exercises cultivate better decision-making, faster mental responses, and a measurable increase in cognitive performance over time.`
];

const para = paragraphs[Math.floor(Math.random()*paragraphs.length)];
document.getElementById("paragraph").innerText = para;

// -------- TIMER --------
let time=120, started=false, timer;
const typing=document.getElementById("typing");
typing.addEventListener("focus",()=>{
 if(!started){
  started=true;
  timer=setInterval(()=>{
   time--;
   document.getElementById("time").innerText=time;
   if(time<=0)finish();
  },1000);
 }
});

// -------- CERT ID --------
let certID="";
function generateCertID(){
 return "NT-"+new Date().getFullYear()+"-"+Math.floor(100000+Math.random()*900000);
}

// -------- FINISH TEST & SAVE CERTIFICATE --------
async function finish(){
 clearInterval(timer);
 typing.disabled=true;

 const typed=typing.value.trim();
 const nameInput=document.getElementById("name").value||"Candidate";

 const paraWords=para.split(" ").length;
 const typedWords=typed.split(" ").length;

 const accuracy=Math.min(100,Math.round((typedWords/paraWords)*100));
 const wpm=Math.round((typedWords/(120-time))*60);
 const brain=Math.round((accuracy+wpm)/2);

 let grade="Average";
 if(brain>85)grade="Excellent";
 else if(brain>70)grade="Very Good";
 else if(brain>55)grade="Good";

 certID = generateCertID();

 document.getElementById("result").innerHTML=
 `Name: <b>${nameInput}</b><br>
 Speed: <b>${wpm} WPM</b><br>
 Accuracy: <b>${accuracy}%</b><br>
 Brain Score: <b>${brain}</b><br>
 Grade: <b>${grade}</b><br>
 Certificate ID: <b>${certID}</b>`;

 document.getElementById("cert").style.display="block";

 // -------- SAVE TO FIRESTORE --------
 try {
     await db.collection("certificates").add({
         certID: certID,
         name: nameInput,
         brain: brain,
         issuedOn: firebase.firestore.FieldValue.serverTimestamp()
     });
 } catch(err){
     console.error("Error saving certificate:", err);
     alert("Failed to save certificate. Check Firebase configuration or Firestore rules.");
 }
}

// -------- PDF CERTIFICATE --------
function downloadPDF(){
 const {jsPDF}=window.jspdf;
 const doc=new jsPDF("landscape","px",[800,600]);

 doc.setFillColor(245,247,255);
 doc.rect(0,0,800,600,"F");

 doc.setDrawColor(30,60,114);
 doc.setLineWidth(6);
 doc.rect(20,20,760,560);

 doc.setTextColor(30,60,114);
 doc.setFontSize(32);
 doc.text("CERTIFICATE OF COGNITIVE TYPING",400,100,{align:"center"});

 const name=document.getElementById("name").value||"Candidate";
 doc.setFontSize(26);
 doc.text(name,400,170,{align:"center"});

 doc.setFontSize(18);
 doc.text("has successfully completed the NeuroType Cognitive Typing Assessment",400,230,{align:"center"});

 doc.setFontSize(16);
 doc.text("Certificate ID: "+certID,400,280,{align:"center"});

 doc.setFontSize(14);
 doc.text("Issued on: "+new Date().toDateString(),400,520,{align:"center"});

 doc.save("NeuroType_Certificate.pdf");
}

// -------- CERTIFICATE VERIFICATION --------
async function verifyCertificate(){
    const certInput = document.getElementById("verifyID").value.trim();
    const resultDiv = document.getElementById("verifyResult");

    if(certInput === ""){
        resultDiv.innerHTML = "<span style='color:orange'>Please enter a Certificate ID.</span>";
        return;
    }

    try {
        const snapshot = await db.collection("certificates")
                                 .where("certID","==",certInput)
                                 .get();
        if(snapshot.empty){
            resultDiv.innerHTML = "<span style='color:red'>‚ùå Invalid Certificate ID</span>";
        } else {
            snapshot.forEach(doc=>{
                const data = doc.data();
                resultDiv.innerHTML = `<span style='color:green'>‚úÖ Valid Certificate</span><br>
                                       Name: ${data.name}<br>
                                       Brain Score: ${data.brain}<br>
                                       Issued On: ${data.issuedOn.toDate().toDateString()}`;
            });
        }
    } catch(err){
        console.error("Error verifying certificate:", err);
        resultDiv.innerHTML = "<span style='color:red'>Error verifying certificate. Check console.</span>";
    }
}
</script>
</body>
</html>
