<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NeuroType – Cognitive Typing Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Roboto,sans-serif;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:#fff;
}
.container{
  max-width:900px;
  width:95%;
  background:rgba(255,255,255,0.1);
  padding:30px;
  border-radius:16px;
  margin:20px 0;
}
h1{text-align:center;}
.card{
  background:rgba(255,255,255,.15);
  padding:20px;
  border-radius:12px;
  margin-bottom:15px;
}
textarea,input{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:16px;
}
textarea{height:160px;}
button{
  padding:12px 25px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  background:#ff9800;
  color:#fff;
  font-weight:bold;
}
button:hover{background:#ffb300;}
#result{text-align:center;font-size:18px;}
</style>
</head>

<body>

<div class="container">
<h1>NeuroType</h1>
<p style="text-align:center">Advanced Brain & Typing Focus Assessment</p>

<input id="name" placeholder="Enter your full name">

<div class="card">
<b>Typing Paragraph:</b>
<p id="paragraph"></p>
</div>

<div class="card">
⏱ Time Left: <b><span id="time">120</span> sec</b>
<textarea id="typing" placeholder="Start typing here..."></textarea>
<button onclick="finish()">Finish Test</button>
</div>

<div class="card" id="result">Results will appear here.</div>

<div class="card" id="cert" style="display:none;text-align:center;">
<button onclick="downloadPDF()">Download Certificate</button>
</div>
</div>

<script>
// -------- PARAGRAPHS --------
const paragraphs=[
"Typing is a powerful cognitive exercise that strengthens focus, memory, and coordination. When a person types continuously, the brain synchronizes language processing with motor skills. This enhances attention span and mental endurance. Regular typing practice builds faster decision-making ability. Over time, it improves overall cognitive efficiency.",

"Human cognition improves when the brain is challenged under controlled pressure. Typing tests require sustained focus, linguistic clarity, and motor precision. This combination strengthens neural connections responsible for learning. Such activities help improve concentration. They also enhance mental resilience.",

"Focused typing activates multiple regions of the brain simultaneously. Language comprehension, memory recall, and finger coordination work together. This mental engagement improves neuroplasticity. Consistent practice results in better clarity of thought. It also enhances productivity.",

"Typing under time constraints measures mental stamina and accuracy. The brain must manage stress while maintaining precision. This trains emotional regulation and focus. Regular practice leads to better multitasking ability. It also boosts confidence.",

"Extended typing requires continuous attention and decision-making. Each word typed reflects cognitive processing speed. This improves memory retention and learning ability. Over time, individuals experience sharper focus. Mental agility increases significantly."
];

const para = paragraphs[Math.floor(Math.random()*paragraphs.length)];
document.getElementById("paragraph").innerText = para;

// -------- TIMER --------
let time=120, started=false, timer;
const typing=document.getElementById("typing");

typing.addEventListener("focus",()=>{
 if(!started){
  started=true;
  timer=setInterval(()=>{
   time--;
   document.getElementById("time").innerText=time;
   if(time<=0)finish();
  },1000);
 }
});

// -------- CERT ID --------
let certID="";
function generateCertID(){
 return "NT-"+new Date().getFullYear()+"-"+Math.floor(100000+Math.random()*900000);
}

// -------- FINISH --------
function finish(){
 clearInterval(timer);
 typing.disabled=true;

 const typed=typing.value.trim();
 const name=document.getElementById("name").value||"Candidate";

 const paraWords=para.split(" ").length;
 const typedWords=typed.split(" ").length;

 const accuracy=Math.min(100,Math.round((typedWords/paraWords)*100));
 const wpm=Math.round((typedWords/(120-time))*60);
 const brain=Math.round((accuracy+wpm)/2);

 let grade="Average";
 if(brain>85)grade="Excellent";
 else if(brain>70)grade="Very Good";
 else if(brain>55)grade="Good";

 certID=generateCertID();

 document.getElementById("result").innerHTML=
 `Name: <b>${name}</b><br>
 Speed: <b>${wpm} WPM</b><br>
 Accuracy: <b>${accuracy}%</b><br>
 Brain Score: <b>${brain}</b><br>
 Grade: <b>${grade}</b><br>
 Certificate ID: <b>${certID}</b>`;

 document.getElementById("cert").style.display="block";
}

// -------- CERTIFICATE PDF --------
function downloadPDF(){
 const {jsPDF}=window.jspdf;
 const doc=new jsPDF("landscape","px",[800,600]);

 // Border
 doc.setDrawColor(30,60,114);
 doc.setLineWidth(6);
 doc.rect(20,20,760,560);

 doc.setFontSize(28);
 doc.text("Certificate of Cognitive Typing",400,90,{align:"center"});

 const name=document.getElementById("name").value||"Candidate";
 doc.setFontSize(22);
 doc.text(name,400,150,{align:"center"});

 doc.setFontSize(16);
 doc.text("has successfully completed the NeuroType Assessment",400,200,{align:"center"});

 doc.text("Certificate ID: "+certID,400,260,{align:"center"});
 doc.text("Issued on: "+new Date().toDateString(),400,300,{align:"center"});

 doc.text("Authorized Signature",120,500);
 doc.text("NeuroType System",600,500);

 doc.save("NeuroType_Certificate.pdf");
}
</script>

</body>
</html>
